default:
  image: mcr.microsoft.com/dotnet/sdk:5.0

stages:
  - build
  - test
  - run-extension

build:
  stage: build
  script:
    - dotnet build

test-s14:
  stage: test
  before_script:
    - 'dotnet add package Xunit'
  script:
    - 'dotnet test Tests-s14/s14-api-testing.csproj'

test-s11:
  stage: test
  script:
    - 'dotnet test Tests-s11/Tests-s11.csproj'

run-extension:
  stage: run-extension
  script:
    - 'dotnet run -p ExtensionProgram --date=2018-12-31T14:45 --format=%d.%m.%y-%hh%imin'
